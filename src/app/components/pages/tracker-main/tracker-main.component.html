<app-nav-bar></app-nav-bar>

<div class="">
  <div class="container mt-4 ml-auto mr-auto">
    <h1>Overview</h1>
    <div class="w-full p-3 pl-6 pr-6 pb-2 card-grey-border bg-white">
      <div class="flex flex-row justify-between items-center">
        <div class="text-sm text-gray-600 ">Welcome back, <span class="text-gray-800 font-medium">{{firebaseAuth.firebaseUserData.email}}</span> - Let's get started.</div>
        <button mat-flat-button
                class="main-action-colour text-white shadow border border-white text-xs font-semibold w-40"
                (click)="openAddTrackerDialog()" [disabled]="activeTrackers.length >= 22">ADD NEW TRACKER</button>
      </div>
      <div class="">
        <div class="">
          <span class="text-xs text-gray-600">You're using <strong>{{activeTrackers.length}}</strong> out of <strong>2</strong> trackers.</span>
        </div>
        <div>
          <span class="text-xs text-gray-600">Currently, <strong>2</strong> out of <strong>{{activeTrackers.length}}</strong> of your trackers have a discounted price.</span>
        </div>
      </div>
    </div>

    <div class="mt-3">
      <h3>Trackers</h3>
    </div>

    <div class="tracker-container mt-2">
      <ng-container *ngFor="let tracker of activeTrackers;">
        <app-product-tracker
          class="flex-1 mb-4 sm:mb-0"
          [trackerDefinition]="tracker"
          (removeEmitter)="removeTracker($event)"></app-product-tracker>
<!--        <div *ngIf="!lastChild" class="m-2"></div>-->
      </ng-container>

    </div>

  </div>
</div>

